<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:fragment="head">
<meta charset="UTF-8" />
<title
	th:text="'Spring Boot: MVC + Thymeleaf + Data JPA - ' + ${titulo}"></title>
<link rel="stylesheet" th:href="@{/css/bootstrap.min.css}" />
<link rel="stylesheet" th:href="@{/css/jquery-ui.min.css}" />
</head>
<body>

	<header th:fragment="header">

		<nav class="navbar navbar-expand-md navbar-dark"
			style="background-color: #140ea7;">
			<div class="container">

				<a class="navbar-brand d-flex align-items-center" href="#"> <img
					src="/images/logo.png" width="40" height="40"
					class="d-inline-block rounded-circle" style="margin-right: 1rem;"
					alt="Autos Colombia Logo"> <span class="fw-bold fs-5">Autos
						Colombia</span>
				</a>


				<button class="navbar-toggler" type="button"
					data-bs-toggle="collapse" data-bs-target="#navbarContent"
					aria-controls="navbarContent" aria-expanded="false"
					aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>

				<div class="collapse navbar-collapse" id="navbarContent">

					<ul class="navbar-nav me-auto">
						<li class="nav-item active"><a class="nav-link" href="#"
							th:text="#{text.menu.home}">Home</a></li>
						<li class="nav-item"><a class="nav-link" href="#"
							th:href="@{/listar}" th:text="#{text.menu.customer}">Customer</a>
						</li>
					</ul>
					<div class="d-flex ml-auto">
						<ul class="navbar-nav">
							<li sec:authorize="!isAuthenticated()" class="nav-item"><a
								class="btn btn-outline-primary mx-2 fw-bold px-4" href="#"
								th:href="@{/registrar}" th:text="#{text.menu.register}">Registrarse</a>
							</li>
							<li sec:authorize="!isAuthenticated()" class="nav-item"><a
								class="btn btn-outline-secondary mx-2 fw-bold px-4" href="#"
								th:href="@{/login}" th:text="#{text.menu.signin}">Iniciar Sesión</a></li>

							<li sec:authorize="isAuthenticated()" class="dropdown show"><a
								class="btn btn-outline-primary dropdown-toggle" href="#"
								role="button" id="navbarDropdown" data-toggle="dropdown"
								aria-haspopup="true" aria-expanded="false"><span
									sec:authentication="name"></span></a>

								<div class="dropdown-menu" aria-labelledby="navbarDropdown">
									<form id="logoutForm" th:action="@{/logout}" method="post">
										<a class="dropdown-item"
											onclick="document.getElementById('logoutForm').submit();"
											type="submit" th:text="#{text.menu.signout}">Sign
											Out</a>
										<input type="hidden" th:name="${_csrf.parameterName}"
											th:value="${_csrf.token}" />
									</form>
								</div></li>
						</ul>

					</div>
				</div>

			</div>
		</nav>


		<div class="alert alert-success" th:if="${success != null}"
			th:text="${success}"></div>
		<div class="alert alert-danger" th:if="${error != null}"
			th:text="${error}"></div>
		<div class="alert alert-warning" th:if="${warning != null}"
			th:text="${warning}"></div>
		<div class="alert alert-info" th:if="${info != null}"
			th:text="${info}"></div>
	</header>

	<div class="container"></div>

	<section class="mt-4">
	
		<footer th:fragment="footer" class="text-white "
			style="background-color: #140ea7;">

			<div class="container py-4">
				<div class="row justify-content-center">

					<div class="col-lg-6 col-md-12 mb-4 mb-md-0 text-center">

						<div sec:authorize="isAuthenticated()" class="text-light my-3">
							<p>
								<strong>Usuario logeado:</strong> <span
									sec:authentication="name"></span> <strong> | Roles:</strong> <span
									sec:authentication="principal.authorities"></span>
							</p>
						</div>
					</div>
				</div>
			</div>

			<div class="text-center p-3"
				style="background-color: rgba(0, 0, 0, 0.2);">
				<p class="mb-0">
					© 2024 Copyright: <a class="text-white" href="" target="_blank"
						rel="noopener noreferrer">Jorge, Lina & Lucas</a>
				</p>
			</div>

			<script th:src="@{/js/jquery-3.2.1.min.js}"></script>
			<script th:src="@{/js/popper.min.js}"></script>
			<script th:src="@{/js/bootstrap.min.js}"></script>
			<script th:src="@{/js/jquery-ui.min.js}"></script>
		</footer>

	</section>

</body>
</html>